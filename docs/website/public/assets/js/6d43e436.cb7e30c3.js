"use strict";(self.webpackChunkdocusaurus_template_openapi_docs=self.webpackChunkdocusaurus_template_openapi_docs||[]).push([[706],{21467:(e,t,s)=>{s.r(t),s.d(t,{assets:()=>p,contentTitle:()=>r,default:()=>d,frontMatter:()=>a,metadata:()=>i,toc:()=>c});var n=s(74848),o=s(28453);const a={id:"postman-testing",title:"Testing with Postman",sidebar_label:"Testing"},r=void 0,i={id:"uwazi/postman-testing",title:"Testing with Postman",description:"The Uwazi API uses Postman for testing. Postman is a powerful tool for testing APIs. It allows you to create, run, and test API requests and responses. It uses a graphical user interface (GUI) to create and manage API requests and responses. It also provides a variety of features such as request and response history, environment variables, and more.",source:"@site/docs/uwazi/postman-testing.md",sourceDirName:"uwazi",slug:"/uwazi/postman-testing",permalink:"/docs/uwazi/postman-testing",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/uwazi/postman-testing.md",tags:[],version:"current",frontMatter:{id:"postman-testing",title:"Testing with Postman",sidebar_label:"Testing"},sidebar:"openApiSidebar",previous:{title:"Developing",permalink:"/docs/uwazi/running-the-project"},next:{title:"Database",permalink:"/docs/uwazi/database-erd"}},p={},c=[{value:"Importing postman collections",id:"importing-postman-collections",level:3},{value:"Setting up pre-request scripts",id:"setting-up-pre-request-scripts",level:3}];function l(e){const t={a:"a",code:"code",h3:"h3",hr:"hr",img:"img",p:"p",pre:"pre",...(0,o.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.p,{children:"The Uwazi API uses Postman for testing. Postman is a powerful tool for testing APIs. It allows you to create, run, and test API requests and responses. It uses a graphical user interface (GUI) to create and manage API requests and responses. It also provides a variety of features such as request and response history, environment variables, and more."}),"\n",(0,n.jsx)(t.h3,{id:"importing-postman-collections",children:"Importing postman collections"}),"\n",(0,n.jsx)(t.hr,{}),"\n",(0,n.jsx)(t.p,{children:"Collections are a way to organize and group related API requests. They allow you to group related API requests together and run them as a group. This is useful for testing a set of related API requests."}),"\n",(0,n.jsxs)(t.p,{children:["You can download the postman collection form this link: ",(0,n.jsx)(t.a,{target:"_blank","data-noBrokenLinkCheck":!0,href:s(52897).A+"",children:"Uwazi API Postman Collection Link"})," and import it into postman by clicking on the import button"]}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.img,{alt:"postman-import-collection.png",src:s(43170).A+"",width:"646",height:"478"})}),"\n",(0,n.jsx)(t.p,{children:"This brings up a modal where you can select the postman collection file you downloaded"}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.img,{alt:"postman-collection-file-select.png",src:s(89836).A+"",width:"1474",height:"1198"})}),"\n",(0,n.jsx)(t.h3,{id:"setting-up-pre-request-scripts",children:"Setting up pre-request scripts"}),"\n",(0,n.jsx)(t.hr,{}),"\n",(0,n.jsx)(t.p,{children:"In postman, pre-request scripts are used to set up the environment for the API requests. They are executed before the actual API request is made. They are used to set up the environment for the API requests. The donloaded postman collection has pre-request scripts for the routes that require authentication already setup. In case they are not setup, you can follow the steps below to setup the pre-request scripts."}),"\n",(0,n.jsx)(t.p,{children:"Navigate to the scripts tab in postman and click on the pre-request script tab"}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.img,{alt:"postman-pre-request-script.png",src:s(4401).A+"",width:"2552",height:"1368"})}),"\n",(0,n.jsx)(t.p,{children:"Copy the script below and paste it into the pre-request script"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-javascript",children:'pm.sendRequest(\n  {\n    url: "https://localhost/api/v1/auth/login", // Replace with your auth endpoint\n    method: "POST",\n    header: {\n      "Content-Type": "application/json",\n    },\n    body: {\n      mode: "raw",\n      raw: JSON.stringify({\n        email: "admin@uwazi.com", // Replace with a valid email\n        password: "password", // Replace with a valid password\n      }),\n    },\n  },\n  function (err, response) {\n    if (err) {\n      console.log("Error during login:", err);\n    } else {\n      // Extract the token from the response and store it in an environment variable\n      const token = response.json().access_token; // Adjust based on your API response\n      pm.environment.set("authToken", token);\n    }\n  }\n);\n'})}),"\n",(0,n.jsxs)(t.p,{children:["Setup the authorization header for the use the ",(0,n.jsx)(t.code,{children:"authToken"})," environment variable in postman"]}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.img,{alt:"postman-headers.png",src:s(5904).A+"",width:"2306",height:"1124"})}),"\n",(0,n.jsx)(t.p,{children:"Once this is done, you can use the predefined endpoints to test the API functionalities. Examples include:"}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.img,{alt:"endpoints.png",src:s(7581).A+"",width:"2826",height:"1572"})})]})}function d(e={}){const{wrapper:t}={...(0,o.R)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(l,{...e})}):l(e)}},52897:(e,t,s)=>{s.d(t,{A:()=>n});const n=s.p+"assets/files/uwazi-api.postman_collection-397f3501669ec51722d79f7d8b1499e9.json"},7581:(e,t,s)=>{s.d(t,{A:()=>n});const n=s.p+"assets/images/endpoints-2d000ad7a9ca6a552a9c6658ee8fd81c.png"},89836:(e,t,s)=>{s.d(t,{A:()=>n});const n=s.p+"assets/images/postman-collection-file-select-57797952f3cd1c509624a99817035497.png"},5904:(e,t,s)=>{s.d(t,{A:()=>n});const n=s.p+"assets/images/postman-headers-8ef458ae38f4a78fa71206d5698098bd.png"},43170:(e,t,s)=>{s.d(t,{A:()=>n});const n=s.p+"assets/images/postman-import-collection-a54021b7b6243268c69e263744b37b31.png"},4401:(e,t,s)=>{s.d(t,{A:()=>n});const n=s.p+"assets/images/postman-pre-request-script-2a462db700afa627769941d45490c203.png"},28453:(e,t,s)=>{s.d(t,{R:()=>r,x:()=>i});var n=s(96540);const o={},a=n.createContext(o);function r(e){const t=n.useContext(a);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function i(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:r(e.components),n.createElement(a.Provider,{value:t},e.children)}}}]);
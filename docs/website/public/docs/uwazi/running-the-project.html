<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-uwazi/running-the-project" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.5.2">
<title data-rh="true">Developing | docs</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="http://localhost/docs/uwazi/running-the-project"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Developing | docs"><meta data-rh="true" name="description" content="Overview"><meta data-rh="true" property="og:description" content="Overview"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="http://localhost/docs/uwazi/running-the-project"><link data-rh="true" rel="alternate" href="http://localhost/docs/uwazi/running-the-project" hreflang="en"><link data-rh="true" rel="alternate" href="http://localhost/docs/uwazi/running-the-project" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.47b0d569.css">
<script src="/assets/js/runtime~main.a84b632b.js" defer="defer"></script>
<script src="/assets/js/main.651c8859.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();null!==e?t(e):window.matchMedia("(prefers-color-scheme: dark)").matches?t("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,t("light"))}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><a class="navbar__brand" href="/"></a></div><div class="navbar__items navbar__items--right"><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/docs/uwazi/overview">Docs</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/uwazi/overview">Overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/uwazi/env-file-config">Creating the env file</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/uwazi/running-the-project">Developing</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/uwazi/postman-testing">Testing</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/uwazi/database-erd">Database</a></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_xLCN"><div class="docItemContainer_jfFK"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Docs</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Developing</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Developing</h1></header><div class="row"><div class="col col--12 markdown"><h3 class="anchor anchorWithStickyNavbar_LWe7" id="overview">Overview<a href="#overview" class="hash-link" aria-label="Direct link to Overview" title="Direct link to Overview">​</a></h3>
<hr>
<p>The Uwazi API utilizes Docker for containerization, making it easy to set up and run the application.</p>
<p><code>Docker</code> is a platform that allows you to containerize applications. A Docker container packages an application and its dependencies, ensuring it runs consistently across different environments.</p>
<p>Advantages of Docker include:</p>
<ul>
<li><code>Portability</code>: Applications run the same regardless of where they are deployed.</li>
<li><code>Dependency Isolation</code>: Each container has its own isolated environment.</li>
<li><code>Simplified Deployment</code>: Applications can be easily started, stopped, and scaled using Docker.</li>
</ul>
<p><code>Docker Compose</code> is a tool that simplifies the management of multi-container Docker applications. With Docker Compose, you can define your application’s services, networks, and volumes in a single file (docker-compose.yml), making it easier to start, stop, and manage the entire system.</p>
<p>Advantages of Docker Compose include:</p>
<ul>
<li><code>Multi-Container Setup</code>: Allows you to manage multiple services (e.g., API, database, and proxy) as one application.</li>
<li><code>Configuration in Code</code>: All service definitions (e.g., ports, volumes, dependencies) are stored in a YAML file for easy reproducibility.</li>
<li><code>Service Dependency Management</code>: Automatically ensures services start in the correct order using depends_on.</li>
<li><code>Scaling</code> You can scale services (e.g., multiple API instances) with a single command.</li>
<li><code>Networking</code>: Automatically sets up a private network for all services, enabling seamless communication.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="docker-configuration">Docker configuration<a href="#docker-configuration" class="hash-link" aria-label="Direct link to Docker configuration" title="Direct link to Docker configuration">​</a></h3>
<hr>
<p>The <code>Dockerfile</code> is a text file that contains all the commands a user could call on the command line to assemble an image. The <code>Dockerfile</code> is used to build the Docker image. The apps Dockerfile is as follows:</p>
<div class="language-dockerfile codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-dockerfile codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">   FROM python:3.9</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   WORKDIR /app</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   # Install dependencies</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   COPY requirements.txt requirements.txt</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   RUN pip install -r requirements.txt</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   # Copy application code</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   COPY . .</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<table><thead><tr><th>Line</th><th>Explanation</th></tr></thead><tbody><tr><td><code>FROM python:3.9</code></td><td>Specifies the base image for the Docker container, which includes Python version 3.9.</td></tr><tr><td><code>WORKDIR /app</code></td><td>Sets the working directory inside the container to <code>/app</code>.</td></tr><tr><td><code>COPY requirements.txt requirements.txt</code></td><td>Copies the <code>requirements.txt</code> file from the host to the container.</td></tr><tr><td><code>RUN pip install -r requirements.txt</code></td><td>Installs all dependencies listed in the <code>requirements.txt</code> file using <code>pip</code>.</td></tr><tr><td><code>COPY . .</code></td><td>Copies the entire project directory from the host to the container.</td></tr></tbody></table>
<hr>
<p>The <code>docker-compose.yml</code> file is used to define and run multi-container Docker applications. It allows you to define the services, networks, and volumes required for your application. This application utilises three main docker compose services:</p>
<table><thead><tr><th>Service</th><th>Description</th></tr></thead><tbody><tr><td><code>nginx</code></td><td>Acts as the reverse proxy, handling HTTP and HTTPS traffic.</td></tr><tr><td><code>api</code></td><td>Runs the Flask application that serves the Uwazi API.</td></tr><tr><td><code>database</code></td><td>Provides the PostgreSQL database for storing application data.</td></tr></tbody></table>
<ul>
<li><strong>Nginx service and api Service:</strong> Nginx forwards incoming requests (e.g., <a href="https://localhost/api/v1/health" target="_blank" rel="noopener noreferrer">https://localhost/api/v1/health</a> ) to the Flask API running in the <code>api</code> container.</li>
<li><strong>API service and Database service:</strong> The Flask application interacts with the PostgreSQL database to store and retrieve data. This communication happens within the Docker network.</li>
</ul>
<p>The apps docker-compose.yml is as follows:</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token key atrule">services</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">nginx</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">image</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> nginx</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain">latest</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">container_name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> nginx</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">ports</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;443:443&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;80:80&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">volumes</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> ./config/nginx/nginx.conf</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain">/etc/nginx/nginx.conf </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Nginx configuration</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> ./config/nginx/certs</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain">/etc/nginx/certs</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain">ro </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># SSL certificates (read-only)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> ./frontend</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain">/var/html/uwazi</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">frontend </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Folder that serves the frontend&#x27;s static files</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">depends_on</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> api</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">api</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">build</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token key atrule">context</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> .</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">container_name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> api</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">env_file</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> .env</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">ports</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;${FLASK_PORT}:${FLASK_PORT}&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">volumes</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> .</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain">/app </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Mount current directory into docker container</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">depends_on</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> database</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">command</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token scalar string" style="color:rgb(195, 232, 141)"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token scalar string" style="color:rgb(195, 232, 141)">      sh -c &quot;flask run --host=0.0.0.0 --port=${FLASK_PORT} --reload&quot;\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">database</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">image</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> postgres</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain">latest</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">container_name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> database</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">env_file</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> .env</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">ports</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;${POSTGRES_PORT}:5432&quot;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Default PostgreSQL port defined in .env file</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">volumes</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> database</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">data</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain">/var/lib/postgresql/data </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Persistent storage for PostgreSQL data. This will persist data even if container is deleted.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">volumes</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  database</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">data</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="nginx-service"><strong>Nginx service</strong><a href="#nginx-service" class="hash-link" aria-label="Direct link to nginx-service" title="Direct link to nginx-service">​</a></h4>
<table><thead><tr><th>Line</th><th>Explanation</th></tr></thead><tbody><tr><td><code>image: nginx:latest</code></td><td>Specifies that the latest NGINX image will be used for this service.</td></tr><tr><td><code>container_name: nginx</code></td><td>Sets the name of the container to <code>nginx</code>.</td></tr><tr><td><code>ports:</code></td><td>Maps ports between the host and container for HTTP (80) and HTTPS (443).</td></tr><tr><td><code>volumes:</code></td><td>Mounts files from the host (your computer) to the docker container for NGINX configuration and SSL certificates.</td></tr><tr><td><code>depends_on: - api</code></td><td>Ensures that the <code>api</code> service starts before NGINX.</td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="api-service"><strong>API service</strong><a href="#api-service" class="hash-link" aria-label="Direct link to api-service" title="Direct link to api-service">​</a></h4>
<table><thead><tr><th>Line</th><th>Explanation</th></tr></thead><tbody><tr><td><code>build: context: .</code></td><td>Builds the API container using the current directory as the context.</td></tr><tr><td><code>container_name: api</code></td><td>Sets the container name to <code>api</code>.</td></tr><tr><td><code>env_file: - .env</code></td><td>Loads environment variables from the <code>.env</code> file.</td></tr><tr><td><code>ports:</code></td><td>Maps the Flask application port to the host.</td></tr><tr><td><code>volumes:</code></td><td>Mounts the current project directory to the container for live updates.</td></tr><tr><td><code>depends_on: - database</code></td><td>Ensures the database service starts before the API.</td></tr><tr><td><code>command: flask run...</code></td><td>Starts the Flask application with live reloading enabled.</td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="database-service"><strong>Database service</strong><a href="#database-service" class="hash-link" aria-label="Direct link to database-service" title="Direct link to database-service">​</a></h4>
<table><thead><tr><th>Line</th><th>Explanation</th></tr></thead><tbody><tr><td><code>image: postgres:latest</code></td><td>Specifies the latest PostgreSQL image for the database service.</td></tr><tr><td><code>container_name: database</code></td><td>Names the container <code>database</code>.</td></tr><tr><td><code>env_file: - .env</code></td><td>Loads database-specific environment variables from the <code>.env</code> file.</td></tr><tr><td><code>ports: ${POSTGRES_PORT}:5432</code></td><td>Maps the host database port to the default PostgreSQL port in the container.</td></tr><tr><td><code>volumes: database-data:/var/lib/postgresql/data</code></td><td>Ensures database data persists even if the container is stopped.</td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="volumes"><strong>volumes</strong><a href="#volumes" class="hash-link" aria-label="Direct link to volumes" title="Direct link to volumes">​</a></h4>
<table><thead><tr><th>Line</th><th>Explanation</th></tr></thead><tbody><tr><td><code>database-data:</code></td><td>Declares a volume for persistent database storage.</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="nginx-configuration">Nginx Configuration<a href="#nginx-configuration" class="hash-link" aria-label="Direct link to Nginx Configuration" title="Direct link to Nginx Configuration">​</a></h3>
<hr>
<p>Nginx is a high-performance web server often used as a reverse proxy, load balancer, or HTTP cache. In this setup, it acts as a reverse proxy to handle incoming HTTP/HTTPS requests and forward them to the Flask API.</p>
<table><thead><tr><th>Feature</th><th>Explanation</th></tr></thead><tbody><tr><td>Reverse Proxy</td><td>Routes client requests to backend servers like Flask.</td></tr><tr><td>HTTPS Support</td><td>Provides SSL/TLS termination for secure connections.</td></tr><tr><td>Load Balancing</td><td>Distributes traffic across multiple backend servers (not used here).</td></tr></tbody></table>
<p>The Nginx configuration file (<code>config/nginx/nginx.conf</code>) is structured as follows:</p>
<div class="language-nginx codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-nginx codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"># Main NGINX configuration file</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">events {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    # Worker connections</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    worker_connections 1024;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">http {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    # Redirect HTTP to HTTPS</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    server {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        listen 80;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        server_name localhost;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        # Redirect all HTTP requests to HTTPS</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        return 301 https://$host$request_uri;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    # HTTPS server block</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    server {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        listen 443 ssl;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        server_name localhost;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        # SSL certificate and key</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        ssl_certificate /etc/nginx/certs/localhost.pem;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        ssl_certificate_key /etc/nginx/certs/localhost-key.pem;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        # SSL protocols</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        ssl_protocols TLSv1.2 TLSv1.3;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        # SSL ciphers</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        ssl_ciphers &#x27;ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-CHACHA20-POLY1305:ECDHE-RSA-CHACHA20-POLY1305:ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256&#x27;;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        ssl_prefer_server_ciphers on;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        # SSL session settings</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        ssl_session_cache shared:SSL:10m;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        ssl_session_timeout 10m;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        # Security headers</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        add_header Strict-Transport-Security &quot;max-age=31536000; includeSubDomains&quot; always;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        add_header X-Content-Type-Options nosniff;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        add_header X-Frame-Options DENY;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        add_header X-XSS-Protection &quot;1; mode=block&quot;;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        # Serve static files from the &#x27;/var/html/uwazi-frontend&#x27; folder</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        location / {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            root /var/html/uwazi-frontend; # This is where the built frontend static files are served from</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            index index.html;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            try_files $uri $uri/ =404;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        # Reverse proxy only requests starting with &#x27;/api&#x27; to Flask</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        location /api {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            proxy_pass http://api:8080;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            proxy_set_header Host $host;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            proxy_set_header X-Real-IP $remote_addr;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            proxy_set_header X-Forwarded-Proto $scheme;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            proxy_buffering off;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<table><thead><tr><th>Section</th><th>Explanation</th></tr></thead><tbody><tr><td><code>events</code></td><td>Defines global settings for NGINX worker connections.</td></tr><tr><td><code>worker_connections 1024;</code></td><td>Sets the maximum number of simultaneous connections NGINX can handle.</td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="http-block">HTTP Block<a href="#http-block" class="hash-link" aria-label="Direct link to HTTP Block" title="Direct link to HTTP Block">​</a></h4>
<table><thead><tr><th>Line</th><th>Explanation</th></tr></thead><tbody><tr><td><code>listen 80;</code></td><td>Configures NGINX to listen on port 80 for HTTP traffic.</td></tr><tr><td><code>server_name localhost;</code></td><td>Defines the server name as <code>localhost</code>.</td></tr><tr><td><code>return 301 https://$host$request_uri;</code></td><td>Redirects all HTTP traffic to HTTPS.</td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="https-server-block">HTTPS Server Block<a href="#https-server-block" class="hash-link" aria-label="Direct link to HTTPS Server Block" title="Direct link to HTTPS Server Block">​</a></h4>
<table><thead><tr><th>Line</th><th>Explanation</th></tr></thead><tbody><tr><td><code>listen 443 ssl;</code></td><td>Configures NGINX to listen on port 443 for HTTPS traffic.</td></tr><tr><td><code>ssl_certificate /etc/nginx/certs/localhost.pem;</code></td><td>Specifies the SSL certificate for HTTPS.</td></tr><tr><td><code>ssl_certificate_key /etc/nginx/certs/localhost-key.pem;</code></td><td>Specifies the SSL certificate key for HTTPS.</td></tr><tr><td><code>ssl_protocols TLSv1.2 TLSv1.3;</code></td><td>Defines the supported SSL protocols.</td></tr><tr><td><code>add_header Strict-Transport-Security...</code></td><td>Adds security headers to enforce best practices for HTTPS connections.</td></tr><tr><td><code>proxy_pass http://api:8080;</code></td><td>Forwards all incoming requests to the Flask API running on port 8080.</td></tr><tr><td><code>proxy_set_header Host $host;</code></td><td>Passes the original <code>Host</code> header to the proxied server.</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="starting-the-application">Starting the Application<a href="#starting-the-application" class="hash-link" aria-label="Direct link to Starting the Application" title="Direct link to Starting the Application">​</a></h3>
<hr>
<p>In order to launch the application, you need to build and start the containers using Docker Compose. In order to build and start the containers, run the following command in your terminal:
<code>bash      docker-compose up --build      </code></p>
<p>Once the application is running, you can verify that it is running by opening your browser and navigating to the health-check endpoint on <a href="https://localhost/api/v1/health" target="_blank" rel="noopener noreferrer">https://localhost/api/v1/health</a>. You should see a JSON response indicating that the API is running and ready to accept requests as shown below:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;status&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;healthy&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="seeding-the-database">Seeding the Database<a href="#seeding-the-database" class="hash-link" aria-label="Direct link to Seeding the Database" title="Direct link to Seeding the Database">​</a></h3>
<hr>
<p>When the application is launched for the first time, it will seed the database with default data. The seeding process is defined in the <code>seed.py</code> file located in the <code>config/database</code> folder. This file is imported in the <code>start.py</code> file and is automatically executed when the application is launched. The seeding process initializes the following data:</p>
<ul>
<li>Default Uwazi user.</li>
<li>Default roles.</li>
<li>Default Uwazi organization.</li>
</ul>
<p>The following variables are used to define the default data used to seed the database. They are defined in the <code>.env</code>file:</p>
<table><thead><tr><th>Variable</th><th>Description</th></tr></thead><tbody><tr><td><code>DEFAULT_ORG_NAME</code></td><td>Name of the default organization.</td></tr><tr><td><code>DEFAULT_ADMIN_EMAIL</code></td><td>Email address for the default admin user.</td></tr><tr><td><code>DEFAULT_ADMIN_PASSWORD</code></td><td>Password for the default admin user.</td></tr><tr><td><code>DEFAULT_ADMIN_USERNAME</code></td><td>Username for the default admin user.</td></tr></tbody></table>
<hr>
<p>The code for the seed function is shown below:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">class</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">App</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">__init__</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">self</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># ...other code</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token keyword" style="font-style:italic">with</span><span class="token plain"> self</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">app</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">app_context</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># ...other code</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            seed</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># ...other code</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">app</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> debug_mode</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> flask_port </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> App</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">get</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">app</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">run</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">host</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;0.0.0.0&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> port</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">flask_port</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> debug</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">debug_mode</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The data seeded is defined in the <code>.env</code> or <code>.env.sample</code> file under the following variables:</p>
<table><thead><tr><th>Variable</th><th>Description</th></tr></thead><tbody><tr><td><code>DEFAULT_ORG_NAME</code></td><td>Name of the default organization.</td></tr><tr><td><code>DEFAULT_ADMIN_EMAIL</code></td><td>Email address for the default admin user.</td></tr><tr><td><code>DEFAULT_ADMIN_PASSWORD</code></td><td>Password for the default admin user.</td></tr><tr><td><code>DEFAULT_ADMIN_USERNAME</code></td><td>Username for the default admin user.</td></tr></tbody></table>
<hr></div></div></div><div class="row"><div class="col col--12"><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/uwazi/running-the-project.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></div></div></article><div class="row"><div class="col col--12"><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/uwazi/env-file-config"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Creating the env file</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/uwazi/postman-testing"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Testing</div></a></nav></div></div></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#overview" class="table-of-contents__link toc-highlight">Overview</a></li><li><a href="#docker-configuration" class="table-of-contents__link toc-highlight">Docker configuration</a></li><li><a href="#nginx-configuration" class="table-of-contents__link toc-highlight">Nginx Configuration</a></li><li><a href="#starting-the-application" class="table-of-contents__link toc-highlight">Starting the Application</a></li><li><a href="#seeding-the-database" class="table-of-contents__link toc-highlight">Seeding the Database</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 uwazi</div></div></div></footer></div>
</body>
</html>